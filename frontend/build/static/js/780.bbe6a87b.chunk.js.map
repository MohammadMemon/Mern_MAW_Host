{"version":3,"file":"static/js/780.bbe6a87b.chunk.js","mappings":"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","sources":["component/Admin/NewProduct.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./newProduct.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, createProduct } from \"../../actions/productAction\";\nimport { useAlert } from \"react-alert\";\nimport { Button } from \"@material-ui/core\";\nimport MetaData from \"../layout/MetaData\";\nimport AccountTreeIcon from \"@material-ui/icons/AccountTree\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport StorageIcon from \"@material-ui/icons/Storage\";\nimport SpellcheckIcon from \"@material-ui/icons/Spellcheck\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport ShowChartIcon from '@material-ui/icons/ShowChart';\nimport MoneyOffIcon from '@material-ui/icons/MoneyOff';\nimport SideBar from \"./Sidebar\";\nimport { NEW_PRODUCT_RESET } from \"../../constants/productConstants\";\n\nconst NewProduct = ({ history }) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const { loading, error, success } = useSelector((state) => state.newProduct);\n\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [oldPrice, setoldPrice] = useState();\n  const [description, setDescription] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [Stock, setStock] = useState(0);\n  const [images, setImages] = useState([]);\n  const [imagesPreview, setImagesPreview] = useState([]);\n\n  const categories = [\n    \"Alphabet Keychains\",\n    \"Couple Keychains\",\n    \"Shape Keychains\",\n    \"Coasters\",\n    \"Popsockets\",\n    \"Earrings\",\n    \"Pendants\",\n    \"Pins\",\n    \"Bookmarks\",\n    \"Magnetic Pins\",\n  ];\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success(\"Product Created Successfully\");\n      history.push(\"/admin/dashboard\");\n      dispatch({ type: NEW_PRODUCT_RESET });\n    }\n  }, [dispatch, alert, error, history, success]);\n\n  const createProductSubmitHandler = (e) => {\n    e.preventDefault();\n\n    const myForm = new FormData();\n\n    myForm.set(\"name\", name);\n    myForm.set(\"price\", price);\n    myForm.set(\"description\", description);\n    myForm.set(\"tags\", tags);\n    myForm.set(\"category\", category);\n    myForm.set(\"Stock\", Stock);\n    myForm.set(\"oldPrice\", oldPrice);\n\n    images.forEach((image) => {\n      myForm.append(\"images\", image);\n    });\n    dispatch(createProduct(myForm));\n  };\n\n  const createProductImagesChange = (e) => {\n    const files = Array.from(e.target.files);\n\n    setImages([]);\n    setImagesPreview([]);\n\n    files.forEach((file) => {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        if (reader.readyState === 2) {\n          setImagesPreview((old) => [...old, reader.result]);\n          setImages((old) => [...old, reader.result]);\n        }\n      };\n\n      reader.readAsDataURL(file);\n    });\n  };\n\n  return (\n    <Fragment>\n      <MetaData title=\"Create Product\" />\n      <div className=\"dashboard\">\n        <SideBar />\n        <div className=\"newProductContainer\">\n          <form\n            className=\"createProductForm\"\n            encType=\"multipart/form-data\"\n            onSubmit={createProductSubmitHandler}\n          >\n            <h1>Create Product</h1>\n\n            <div>\n              <SpellcheckIcon />\n              <input\n                type=\"text\"\n                placeholder=\"Product Name\"\n                required\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n            <div>\n              <MoneyOffIcon/>\n              <input\n                type=\"number\"\n                placeholder=\"Real Price\"\n                required\n                onChange={(e) => setoldPrice(e.target.value)}\n                value={oldPrice}\n              />\n            </div>\n            <div>\n              <AttachMoneyIcon />\n              <input\n                type=\"number\"\n                placeholder=\"Price\"\n                required\n                onChange={(e) => setPrice(e.target.value)}\n              />\n            </div>\n\n            <div>\n              <DescriptionIcon />\n\n              <textarea\n                placeholder=\"Product Description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                cols=\"30\"\n                rows=\"1\"\n              ></textarea>\n            </div>\n\n            <div>\n            <ShowChartIcon />\n\n              <textarea\n                placeholder=\"Product Keywords use ',' in between.\"\n                value={tags}\n                onChange={(e) => setTags(e.target.value)}\n                cols=\"30\"\n                rows=\"1\"\n              ></textarea>\n            </div>\n\n            <div>\n              <AccountTreeIcon />\n              <select onChange={(e) => setCategory(e.target.value)}>\n                <option value=\"\">Choose Category</option>\n                {categories.map((cate) => (\n                  <option key={cate} value={cate}>\n                    {cate}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <StorageIcon />\n              <input\n                type=\"number\"\n                placeholder=\"Stock\"\n                required\n                onChange={(e) => setStock(e.target.value)}\n              />\n            </div>\n\n            <div id=\"createProductFormFile\">\n              <input\n                type=\"file\"\n                name=\"avatar\"\n                accept=\"image/*\"\n                onChange={createProductImagesChange}\n                multiple\n              />\n            </div>\n\n            <div id=\"createProductFormImage\">\n              {imagesPreview.map((image, index) => (\n                <img key={index} src={image} alt=\"Product Preview\" />\n              ))}\n            </div>\n\n            <Button\n              id=\"createProductBtn\"\n              type=\"submit\"\n              disabled={loading ? true : false}\n            >\n              Create\n            </Button>\n          </form>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default NewProduct;\n"],"names":["history","dispatch","useDispatch","alert","useAlert","useSelector","state","newProduct","loading","error","success","useState","name","setName","price","setPrice","oldPrice","setoldPrice","description","setDescription","tags","setTags","category","setCategory","Stock","setStock","images","setImages","imagesPreview","setImagesPreview","useEffect","clearErrors","push","type","NEW_PRODUCT_RESET","Fragment","title","className","encType","onSubmit","e","preventDefault","myForm","FormData","set","forEach","image","append","createProduct","placeholder","required","value","onChange","target","cols","rows","map","cate","id","accept","files","Array","from","file","reader","FileReader","onload","readyState","old","result","readAsDataURL","multiple","index","src","alt","disabled"],"sourceRoot":""}