"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[531],{2058:function(e,t,n){n.d(t,{Ir:function(){return l},KL:function(){return v},Mm:function(){return f},b9:function(){return m},nM:function(){return p},p8:function(){return i},rK:function(){return h},ry:function(){return d},tT:function(){return x},wv:function(){return u}});var r=n(4165),a=n(5861),c=n(4569),s=n.n(c),o=n(9697),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,25e3],c=arguments.length>3?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var i=(0,a.Z)((0,r.Z)().mark((function a(i){var d,p,l;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i({type:o.Ty}),d="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&ratings[gte]=").concat(u),c&&(d="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&category=").concat(c,"&ratings[gte]=").concat(u)),r.next=6,s().get(d);case 6:p=r.sent,l=p.data,i({type:o.js,payload:l}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),i({type:o.Vh,payload:r.t0.response.data.message});case 14:case"end":return r.stop()}}),a,null,[[0,11]])})));return function(e){return i.apply(this,arguments)}}()},i=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.Iq}),e.next=4,s().get("/api/v1/admin/products");case 4:n=e.sent,a=n.data,t({type:o.AT,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:o.zH,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.TK}),a={headers:{"Content-Type":"application/json"}},t.next=5,s().post("/api/v1/admin/product/new",e,a);case 5:c=t.sent,u=c.data,n({type:o.Cy,payload:u}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:o.J$,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c,u,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:o.L7}),c={headers:{"Content-Type":"application/json"}},n.next=5,s().put("/api/v1/admin/product/".concat(e),t,c);case 5:u=n.sent,i=u.data,a({type:o.zk,payload:i.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:o.ki,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.bi}),t.next=4,s().delete("/api/v1/admin/product/".concat(e));case 4:a=t.sent,c=a.data,n({type:o.cO,payload:c.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:o.IX,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.Uy}),t.next=4,s().get("/api/v1/product/".concat(e));case 4:a=t.sent,c=a.data,n({type:o.xe,payload:c.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:o.gh,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.zK}),a={headers:{"Content-Type":"application/json"}},t.next=5,s().put("/api/v1/review",e,a);case 5:c=t.sent,u=c.data,n({type:o.Yu,payload:u.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:o.V_,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.MJ}),t.next=4,s().get("/api/v1/reviews?id=".concat(e));case 4:a=t.sent,c=a.data,n({type:o.zh,payload:c.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:o.Rc,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:o.fz}),n.next=4,s().delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:c=n.sent,u=c.data,a({type:o.g6,payload:u.success}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:o.Om,payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},m=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:o.pp});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},5906:function(e,t,n){n.d(t,{Z:function(){return x}});n(2791);var r=n(4886),a=n(1523),c=n(8842),s=n(912),o=n(4871),u=n(1706),i=n(3459),d=n(242),p=n(7543),l=n(4715),v=n(8997),h=n(400),f=n(184),x=function(){return(0,f.jsxs)("div",{className:"sidebar",children:[(0,f.jsx)(a.rU,{to:"/",children:(0,f.jsx)("img",{src:r,alt:"Myartworld"})}),(0,f.jsx)(a.rU,{to:"/admin/dashboard",children:(0,f.jsxs)("p",{children:[(0,f.jsx)(l.Z,{})," Dashboard"]})}),(0,f.jsx)(a.rU,{children:(0,f.jsx)(c.Z,{defaultCollapseIcon:(0,f.jsx)(o.Z,{}),defaultExpandIcon:(0,f.jsx)(d.Z,{}),children:(0,f.jsxs)(s.Z,{nodeId:"1",label:"Products",children:[(0,f.jsx)(a.rU,{to:"/admin/products",children:(0,f.jsx)(s.Z,{nodeId:"2",label:"All",icon:(0,f.jsx)(u.Z,{})})}),(0,f.jsx)(a.rU,{to:"/admin/product",children:(0,f.jsx)(s.Z,{nodeId:"3",label:"Create",icon:(0,f.jsx)(i.Z,{})})})]})})}),(0,f.jsx)(a.rU,{to:"/admin/orders",children:(0,f.jsxs)("p",{children:[(0,f.jsx)(p.Z,{}),"Orders"]})}),(0,f.jsx)(a.rU,{to:"/admin/users",children:(0,f.jsxs)("p",{children:[(0,f.jsx)(v.Z,{})," Users"]})}),(0,f.jsx)(a.rU,{to:"/admin/reviews",children:(0,f.jsxs)("p",{children:[(0,f.jsx)(h.Z,{}),"Reviews"]})})]})}},8531:function(e,t,n){n.r(t);var r=n(2982),a=n(885),c=n(2791),s=n(9434),o=n(2058),u=(n(9673),n(6534)),i=n(6513),d=n(1760),p=n(6900),l=n(3401),v=n(4325),h=n(1701),f=n(6082),x=n(6664),m=n(2505),y=n(5906),Z=n(9697),j=n(184);t.default=function(e){var t=e.history,n=e.match,g=(0,s.I0)(),w=(0,u.VY)(),k=(0,s.v9)((function(e){return e.productDetails})),b=k.error,z=k.product,P=(0,s.v9)((function(e){return e.product})),C=P.loading,S=P.error,H=P.isUpdated,L=(0,c.useState)(""),M=(0,a.Z)(L,2),U=M[0],V=M[1],I=(0,c.useState)(0),E=(0,a.Z)(I,2),T=E[0],F=E[1],A=(0,c.useState)(0),D=(0,a.Z)(A,2),K=D[0],q=D[1],N=(0,c.useState)(""),O=(0,a.Z)(N,2),R=O[0],B=O[1],J=(0,c.useState)(""),Y=(0,a.Z)(J,2),_=Y[0],X=Y[1],$=(0,c.useState)(""),G=(0,a.Z)($,2),Q=G[0],W=G[1],ee=(0,c.useState)(0),te=(0,a.Z)(ee,2),ne=te[0],re=te[1],ae=(0,c.useState)([]),ce=(0,a.Z)(ae,2),se=ce[0],oe=ce[1],ue=(0,c.useState)([]),ie=(0,a.Z)(ue,2),de=ie[0],pe=ie[1],le=(0,c.useState)([]),ve=(0,a.Z)(le,2),he=ve[0],fe=ve[1],xe=n.params.id;(0,c.useEffect)((function(){z&&z._id!==xe?g((0,o.KL)(xe)):(V(z.name),B(z.description),F(z.price),q(z.oldPrice),W(z.category),re(z.Stock),pe(z.images),X(z.tags)),b&&(w.error(b),g((0,o.b9)())),S&&(w.error(S),g((0,o.b9)())),H&&(w.success("Product Updated Successfully"),t.push("/admin/products"),g({type:Z.Ab}))}),[g,w,b,t,H,xe,z,S]);return(0,j.jsxs)(c.Fragment,{children:[(0,j.jsx)(d.Z,{title:"Update Product"}),(0,j.jsxs)("div",{className:"dashboard",children:[(0,j.jsx)(y.Z,{}),(0,j.jsx)("div",{className:"newProductContainer",children:(0,j.jsxs)("form",{className:"createProductForm",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",U),t.set("price",T),t.set("description",R),t.set("tags",_),t.set("category",Q),t.set("Stock",ne),t.set("oldPrice",K),se.forEach((function(e){t.append("images",e)})),g((0,o.nM)(xe,t))},children:[(0,j.jsx)("h1",{children:"Update Product"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(h.Z,{}),(0,j.jsx)("input",{type:"text",placeholder:"Product Name",required:!0,value:U,onChange:function(e){return V(e.target.value)}})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(m.Z,{}),(0,j.jsx)("input",{type:"number",placeholder:"Real Price",required:!0,onChange:function(e){return q(e.target.value)},value:K})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(f.Z,{}),(0,j.jsx)("input",{type:"number",placeholder:"Discounted Price",required:!0,onChange:function(e){return F(e.target.value)},value:T})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(l.Z,{}),(0,j.jsx)("textarea",{placeholder:"Product Description",value:R,onChange:function(e){return B(e.target.value)},cols:"30",rows:"1"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(x.Z,{}),(0,j.jsx)("textarea",{placeholder:"Product Keywords use ',' in between.",value:_,onChange:function(e){return X(e.target.value)},cols:"30",rows:"1"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(p.Z,{}),(0,j.jsxs)("select",{value:Q,onChange:function(e){return W(e.target.value)},children:[(0,j.jsx)("option",{value:"",children:"Change Category"}),["Laptop","Footwear","Bottom","Tops","Attire","Camera","SmartPhones"].map((function(e){return(0,j.jsx)("option",{value:e,children:e},e)}))]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(v.Z,{}),(0,j.jsx)("input",{type:"number",placeholder:"Stock",required:!0,onChange:function(e){return re(e.target.value)},value:ne})]}),(0,j.jsx)("div",{id:"createProductFormFile",children:(0,j.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=Array.from(e.target.files);oe([]),fe([]),pe([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(fe((function(e){return[].concat((0,r.Z)(e),[t.result])})),oe((function(e){return[].concat((0,r.Z)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0})}),(0,j.jsx)("div",{id:"createProductFormImage",children:de&&de.map((function(e,t){return(0,j.jsx)("img",{src:e.url,alt:"Old Product Preview"},t)}))}),(0,j.jsx)("div",{id:"createProductFormImage",children:he.map((function(e,t){return(0,j.jsx)("img",{src:e,alt:"Product Preview"},t)}))}),(0,j.jsx)(i.Z,{id:"createProductBtn",type:"submit",disabled:!!C,children:"Update"})]})})]})]})}},1760:function(e,t,n){n(2791);var r=n(4270),a=n(184);t.Z=function(e){var t=e.title,n=e.description;return(0,a.jsxs)(r.Z,{children:[(0,a.jsx)("title",{children:t}),(0,a.jsx)("meta",{name:"description",content:n})]})}},6900:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");t.Z=s},6082:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}),"AttachMoney");t.Z=s},3401:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");t.Z=s},2505:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.53.12-1.03.3-1.48.54l1.47 1.47c.41-.17.91-.27 1.51-.27zM5.33 4.06L4.06 5.33 7.5 8.77c0 2.08 1.56 3.21 3.91 3.91l3.51 3.51c-.34.48-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.82-.55 2.45-1.12l2.22 2.22 1.27-1.27L5.33 4.06z"}),"MoneyOff");t.Z=s},6664:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");t.Z=s},1701:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"}),"Spellcheck");t.Z=s},4325:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"}),"Storage");t.Z=s},9673:function(){}}]);
//# sourceMappingURL=531.df833090.chunk.js.map