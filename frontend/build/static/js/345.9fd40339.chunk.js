"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[345],{8531:function(e,t,r){r.r(t);var n=r(2982),a=r(885),s=r(2791),u=r(9434),c=r(2058),i=(r(9673),r(6534)),o=r(6513),d=r(1760),l=r(6900),p=r(3401),h=r(4325),x=r(1701),m=r(6082),v=r(6664),f=r(2505),j=r(5906),g=r(9697),Z=r(184);t.default=function(e){var t=e.history,r=e.match,P=(0,u.I0)(),S=(0,i.VY)(),y=(0,u.v9)((function(e){return e.productDetails})),C=y.error,b=y.product,w=(0,u.v9)((function(e){return e.product})),F=w.loading,k=w.error,D=w.isUpdated,U=(0,s.useState)(""),q=(0,a.Z)(U,2),A=q[0],N=q[1],E=(0,s.useState)(0),I=(0,a.Z)(E,2),L=I[0],R=I[1],B=(0,s.useState)(0),K=(0,a.Z)(B,2),T=K[0],M=K[1],O=(0,s.useState)(""),V=(0,a.Z)(O,2),Y=V[0],_=V[1],z=(0,s.useState)(""),G=(0,a.Z)(z,2),H=G[0],J=G[1],Q=(0,s.useState)(""),W=(0,a.Z)(Q,2),X=W[0],$=W[1],ee=(0,s.useState)(0),te=(0,a.Z)(ee,2),re=te[0],ne=te[1],ae=(0,s.useState)([]),se=(0,a.Z)(ae,2),ue=se[0],ce=se[1],ie=(0,s.useState)([]),oe=(0,a.Z)(ie,2),de=oe[0],le=oe[1],pe=(0,s.useState)([]),he=(0,a.Z)(pe,2),xe=he[0],me=he[1],ve=r.params.id;(0,s.useEffect)((function(){b&&b._id!==ve?P((0,c.KL)(ve)):(N(b.name),_(b.description),R(b.price),M(b.oldPrice),$(b.category),ne(b.Stock),le(b.images),J(b.tags)),C&&(S.error(C),P((0,c.b9)())),k&&(S.error(k),P((0,c.b9)())),D&&(S.success("Product Updated Successfully"),t.push("/admin/products"),P({type:g.Ab}))}),[P,S,C,t,D,ve,b,k]);return(0,Z.jsxs)(s.Fragment,{children:[(0,Z.jsx)(d.Z,{title:"Update Product"}),(0,Z.jsxs)("div",{className:"dashboard",children:[(0,Z.jsx)(j.Z,{}),(0,Z.jsx)("div",{className:"newProductContainer",children:(0,Z.jsxs)("form",{className:"createProductForm",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",A),t.set("price",L),t.set("description",Y),t.set("tags",H),t.set("category",X),t.set("Stock",re),t.set("oldPrice",T),ue.forEach((function(e){t.append("images",e)})),P((0,c.nM)(ve,t))},children:[(0,Z.jsx)("h1",{children:"Update Product"}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(x.Z,{}),(0,Z.jsx)("input",{type:"text",placeholder:"Product Name",required:!0,value:A,onChange:function(e){return N(e.target.value)}})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(f.Z,{}),(0,Z.jsx)("input",{type:"number",placeholder:"Real Price",required:!0,onChange:function(e){return M(e.target.value)},value:T})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(m.Z,{}),(0,Z.jsx)("input",{type:"number",placeholder:"Discounted Price",required:!0,onChange:function(e){return R(e.target.value)},value:L})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(p.Z,{}),(0,Z.jsx)("textarea",{placeholder:"Product Description",value:Y,onChange:function(e){return _(e.target.value)},cols:"30",rows:"1"})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(v.Z,{}),(0,Z.jsx)("textarea",{placeholder:"Product Keywords use ',' in between.",value:H,onChange:function(e){return J(e.target.value)},cols:"30",rows:"1"})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(l.Z,{}),(0,Z.jsxs)("select",{value:X,onChange:function(e){return $(e.target.value)},children:[(0,Z.jsx)("option",{value:"",children:"Change Category"}),["Laptop","Footwear","Bottom","Tops","Attire","Camera","SmartPhones"].map((function(e){return(0,Z.jsx)("option",{value:e,children:e},e)}))]})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(h.Z,{}),(0,Z.jsx)("input",{type:"number",placeholder:"Stock",required:!0,onChange:function(e){return ne(e.target.value)},value:re})]}),(0,Z.jsx)("div",{id:"createProductFormFile",children:(0,Z.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:function(e){var t=Array.from(e.target.files);ce([]),me([]),le([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(me((function(e){return[].concat((0,n.Z)(e),[t.result])})),ce((function(e){return[].concat((0,n.Z)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0})}),(0,Z.jsx)("div",{id:"createProductFormImage",children:de&&de.map((function(e,t){return(0,Z.jsx)("img",{src:e.url,alt:"Old Product Preview"},t)}))}),(0,Z.jsx)("div",{id:"createProductFormImage",children:xe.map((function(e,t){return(0,Z.jsx)("img",{src:e,alt:"Product Preview"},t)}))}),(0,Z.jsx)(o.Z,{id:"createProductBtn",type:"submit",disabled:!!F,children:"Update"})]})})]})]})}}}]);
//# sourceMappingURL=345.9fd40339.chunk.js.map