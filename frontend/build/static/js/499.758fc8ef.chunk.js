"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[499],{2058:function(e,t,n){n.d(t,{Ir:function(){return l},KL:function(){return f},Mm:function(){return h},b9:function(){return m},nM:function(){return d},p8:function(){return u},rK:function(){return v},ry:function(){return p},tT:function(){return x},wv:function(){return o}});var r=n(4165),a=n(5861),c=n(4569),s=n.n(c),i=n(9697),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,25e3],c=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var u=(0,a.Z)((0,r.Z)().mark((function a(u){var p,d,l;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,u({type:i.Ty}),p="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&ratings[gte]=").concat(o),c&&(p="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(n[0],"&price[lte]=").concat(n[1],"&category=").concat(c,"&ratings[gte]=").concat(o)),r.next=6,s().get(p);case 6:d=r.sent,l=d.data,u({type:i.js,payload:l}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),u({type:i.Vh,payload:r.t0.response.data.message});case 14:case"end":return r.stop()}}),a,null,[[0,11]])})));return function(e){return u.apply(this,arguments)}}()},u=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:i.Iq}),e.next=4,s().get("/api/v1/admin/products");case 4:n=e.sent,a=n.data,t({type:i.AT,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:i.zH,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.TK}),a={headers:{"Content-Type":"application/json"}},t.next=5,s().post("/api/v1/admin/product/new",e,a);case 5:c=t.sent,o=c.data,n({type:i.Cy,payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:i.J$,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c,o,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:i.L7}),c={headers:{"Content-Type":"application/json"}},n.next=5,s().put("/api/v1/admin/product/".concat(e),t,c);case 5:o=n.sent,u=o.data,a({type:i.zk,payload:u.success}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:i.ki,payload:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.bi}),t.next=4,s().delete("/api/v1/admin/product/".concat(e));case 4:a=t.sent,c=a.data,n({type:i.cO,payload:c.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.IX,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.Uy}),t.next=4,s().get("/api/v1/product/".concat(e));case 4:a=t.sent,c=a.data,n({type:i.xe,payload:c.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.gh,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.zK}),a={headers:{"Content-Type":"application/json"}},t.next=5,s().put("/api/v1/review",e,a);case 5:c=t.sent,o=c.data,n({type:i.Yu,payload:o.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:i.V_,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:i.MJ}),t.next=4,s().get("/api/v1/reviews?id=".concat(e));case 4:a=t.sent,c=a.data,n({type:i.zh,payload:c.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.Rc,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c,o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:i.fz}),n.next=4,s().delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:c=n.sent,o=c.data,a({type:i.g6,payload:o.success}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:i.Om,payload:n.t0.response.data.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},m=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.pp});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},5499:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(885),a=n(2791),c=n(3226),s=n(9434),i=n(2058),o=n(6534),u=n(6513),p=n(1760),d=n(7407),l=n(3959),f=n(5906),v=n(9697),h=n(184),x=function(e){var t=e.history,n=(0,s.I0)(),x=(0,o.VY)(),m=(0,s.v9)((function(e){return e.review})),y=m.error,Z=m.isDeleted,g=(0,s.v9)((function(e){return e.productReviews})),j=g.error,w=g.reviews,b=g.loading,k=(0,a.useState)(""),C=(0,r.Z)(k,2),I=C[0],N=C[1];(0,a.useEffect)((function(){24===I.length&&n((0,i.Mm)(I)),j&&(x.error(j),n((0,i.b9)())),y&&(x.error(y),n((0,i.b9)())),Z&&(x.success("Review Deleted Successfully"),t.push("/admin/reviews"),n({type:v.qD}))}),[n,x,j,y,t,Z,I]);var R=[{field:"id",headerName:"Review ID",minWidth:200,flex:.5},{field:"user",headerName:"User",minWidth:200,flex:.6},{field:"comment",headerName:"Comment",minWidth:350,flex:1},{field:"rating",headerName:"Rating",type:"number",minWidth:180,flex:.4,cellClassName:function(e){return e.getValue(e.id,"rating")>=3?"greenColor":"redColor"}},{field:"actions",flex:.3,headerName:"Actions",minWidth:150,type:"number",sortable:!1,renderCell:function(e){return(0,h.jsx)(a.Fragment,{children:(0,h.jsx)(u.Z,{onClick:function(){return t=e.getValue(e.id,"id"),void n((0,i.tT)(t,I));var t},children:(0,h.jsx)(d.Z,{})})})}}],L=[];return w&&w.forEach((function(e){L.push({id:e._id,rating:e.rating,comment:e.comment,user:e.name})})),(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(p.Z,{title:"ALL REVIEWS - Admin"}),(0,h.jsxs)("div",{className:"dashboard",children:[(0,h.jsx)(f.Z,{}),(0,h.jsxs)("div",{className:"productReviewsContainer",children:[(0,h.jsxs)("form",{className:"productReviewsForm",onSubmit:function(e){e.preventDefault(),n((0,i.Mm)(I))},children:[(0,h.jsx)("h1",{className:"productReviewsFormHeading",children:"ALL REVIEWS"}),(0,h.jsxs)("div",{children:[(0,h.jsx)(l.Z,{}),(0,h.jsx)("input",{type:"text",placeholder:"Product Id",required:!0,value:I,onChange:function(e){return N(e.target.value)}})]}),(0,h.jsx)(u.Z,{id:"createProductBtn",type:"submit",disabled:!!b||""===I,children:"Search"})]}),w&&w.length>0?(0,h.jsx)(c._$r,{rows:L,columns:R,pageSize:10,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0}):(0,h.jsx)("h1",{className:"productReviewsFormHeading",children:"No Reviews Found"})]})]})]})}},5906:function(e,t,n){n.d(t,{Z:function(){return x}});n(2791);var r=n(4886),a=n(1523),c=n(8842),s=n(912),i=n(4871),o=n(1706),u=n(3459),p=n(242),d=n(7543),l=n(4715),f=n(8997),v=n(400),h=n(184),x=function(){return(0,h.jsxs)("div",{className:"sidebar",children:[(0,h.jsx)(a.rU,{to:"/",children:(0,h.jsx)("img",{src:r,alt:"Myartworld"})}),(0,h.jsx)(a.rU,{to:"/admin/dashboard",children:(0,h.jsxs)("p",{children:[(0,h.jsx)(l.Z,{})," Dashboard"]})}),(0,h.jsx)(a.rU,{children:(0,h.jsx)(c.Z,{defaultCollapseIcon:(0,h.jsx)(i.Z,{}),defaultExpandIcon:(0,h.jsx)(p.Z,{}),children:(0,h.jsxs)(s.Z,{nodeId:"1",label:"Products",children:[(0,h.jsx)(a.rU,{to:"/admin/products",children:(0,h.jsx)(s.Z,{nodeId:"2",label:"All",icon:(0,h.jsx)(o.Z,{})})}),(0,h.jsx)(a.rU,{to:"/admin/product",children:(0,h.jsx)(s.Z,{nodeId:"3",label:"Create",icon:(0,h.jsx)(u.Z,{})})})]})})}),(0,h.jsx)(a.rU,{to:"/admin/orders",children:(0,h.jsxs)("p",{children:[(0,h.jsx)(d.Z,{}),"Orders"]})}),(0,h.jsx)(a.rU,{to:"/admin/users",children:(0,h.jsxs)("p",{children:[(0,h.jsx)(f.Z,{})," Users"]})}),(0,h.jsx)(a.rU,{to:"/admin/reviews",children:(0,h.jsxs)("p",{children:[(0,h.jsx)(v.Z,{}),"Reviews"]})})]})}},1760:function(e,t,n){n(2791);var r=n(4270),a=n(184);t.Z=function(e){var t=e.title,n=e.description;return(0,a.jsxs)(r.Z,{children:[(0,a.jsx)("title",{children:t}),(0,a.jsx)("meta",{name:"description",content:n})]})}},7407:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s},3959:function(e,t,n){var r=n(4836),a=n(5263);t.Z=void 0;var c=a(n(2791)),s=(0,r(n(4894)).default)(c.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=s}}]);
//# sourceMappingURL=499.758fc8ef.chunk.js.map